<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Tic Tac Toe</title>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link href='http://fonts.googleapis.com/css?family=Chivo:400,900' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/style.css">
        <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
    </head>
    <body class="overlay">
    	<div id="wrapper">

    		<div class="modal">
	    		<p>Pick Who Starts</p>
    			<div>
		    		<button id="comp"></button>
	    			<button id="user"></button>
	    		</div>
    		</div>
				
        <ul class="board clear">
        	<li></li>
        	<li></li>
        	<li></li>
        	<li></li>
        	<li></li>
        	<li></li>
        	<li></li>
        	<li></li>
        	<li></li>
        </ul>

    	</div>
            <script src="js/boards.js"></script>
            <script src="js/main.js"></script>
            <script>
                window.switch = function() {
                    window.reset();
                    if ( window.activePlayer === 'x' ) {
                        window.activePlayer = 'o';
                        window.inactivePlayer = 'x';
                        window.turn = 'o';
                    } else {
                        window.activePlayer = 'x';
                        window.inactivePlayer = 'o';
                        window.turn = 'x';
                    }
                }

                $(document).ready(function() {
                    $('.modal button').on('click', function(e) {
                        $('body').removeClass('overlay');
                        var $this = $(e.currentTarget);

                        if ( $this.index() === 0 ) {
                            window.first = true;
                            window.activePlayer = 'x';
                            window.inactivePlayer = 'o';
                            window.turn = 'x';

                            minimax(getBoard($('.board')));
                        }
                    });

                    $('.board li').on('click', function(e) {
                        window.switch();
                        var $this = $(e.currentTarget);
                        var idx = $this.index();

                        $($('.board').find('li')[idx]).text(window.activePlayer);

                        window.switch();
                        minimax(getBoard($('.board')));
                        
                        setTimeout(function() {
                            $($('.board li')[choice]).text(window.activePlayer);
                        },0);
                    });


                });
            </script>
    </body>
</html>